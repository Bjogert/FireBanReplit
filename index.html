<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Eldkoll</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    .hidden-until-load {
      display: none; /* Hide the content initially */
    }
  </style>
  <script type="module" crossorigin src="./src/index.jsx"></script>
</head>
<body>
  <header class="header">
    <div class="header-left">
      <div class="dropdown">
        <button class="dropbtn" onclick="toggleDropdown()">Mer</button>
        <div class="dropdown-content" id="dropdownMenu">
          <a href="#">Språk</a>
          <a href="#">Allemansrätt</a>
          <a href="#">Elda säkert</a>
          <a href="#" id="change-municipality">Byt Kommun</a>
        </div>
      </div>
      <div class="title">
        Får du elda nu?
      </div>
    </div>
    <img src="./public/Logo.webp" alt="Logo" class="logo-img">
  </header>

  <div class="main hidden-until-load">
    <div id="fire-hazard-scale-root"></div>
    <div id="root">
      <!-- React app will mount here -->
    </div>
  </div>

  <footer class="footer">
    <p>Plats för reklam.</p>
  </footer>

  <script>
    function toggleDropdown() {
      var dropdownContent = document.getElementById('dropdownMenu');
      if (dropdownContent.style.display === 'block') {
        dropdownContent.style.display = 'none';
      } else {
        dropdownContent.style.display = 'block';
      }
    }

    document.getElementById('change-municipality').addEventListener('click', function() {
      var scaleContainer = document.querySelector('.fire-hazard-scale-container');
    });

    window.onclick = function(event) {
      if (!event.target.matches('.dropbtn')) {
        var dropdowns = document.getElementsByClassName('dropdown-content');
        for (var i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.style.display === 'block') {
            openDropdown.style.display = 'none';
          }
        }
      }
    };

    window.addEventListener('load', function() {
      var hiddenElements = document.querySelectorAll('.hidden-until-load');
      hiddenElements.forEach(function(element) {
        element.classList.remove('hidden-until-load');
      });
    });
  </script>
</body>
</html>